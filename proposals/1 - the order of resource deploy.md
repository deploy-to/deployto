**Цель**

Чтобы пользователи могли управлять последовательностью деплоя. Вводить свои предварительные, промежуточные, завершающие шаги.

**Предложение**
Удаляется yaml уровень dependencies и script - которые сейчас используются для определения порядка.

Вводится новый необязательный атрибут ресурса - order. Значение по умолчанию 100.

Ресурсы с одним значением order могут устанавливаться параллельно. С разными - в порядке возрастания order'а.

Как будет выглядеть:

<table>
<tr>
<th> Сейчас </th>
<th> Предложение </th>
</tr>
<tr>
<td>

```YAML
apiVersion: deployto.dev/v1beta1
kind: Component
metadata:
  name: example01
spec:
  dependencies:
    ci:
      type: job
    postgresql:
  script:
    type: helm
    path: ../helm
```

</td>
<td>

```YAML
apiVersion: deployto.dev/v1beta1
kind: Component
metadata:
  name: example01
spec:
  ci:
    type: job
  postgresql:
  anyName:
    order: 1000 #будет установлено после других ресурсов, т.к. у других по умолчанию 100
    type: helm
    path: ../helm
```

</td>
</tr>
</table>

**Альтернатива**
сделать упорядоченный массив

Минусы альтернативы:

-   распараллелить установку отдельных компонент можно будет только вводя дополнительный атрибут.
-   атрибут alias, который сейчас является ключом, всё равно потребуется для идентификации ресурса при применении патча. Большинство описаний получатся многословнее.