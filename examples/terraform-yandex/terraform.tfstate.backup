{
  "version": 4,
  "terraform_version": "1.8.2",
  "serial": 14,
  "lineage": "cb1c3510-7dd4-2a99-7126-f8f2ba62547a",
  "outputs": {
    "dbhosts": {
      "value": "rc1d-30krurytinisfu8w.mdb.yandexcloud.net",
      "type": "string"
    },
    "dbname": {
      "value": "testdb",
      "type": "string"
    },
    "dbpassword": {
      "value": "your_password",
      "type": "string",
      "sensitive": true
    },
    "dburi": {
      "value": "postgresql://user_name:your_password@:1/testdb",
      "type": "string",
      "sensitive": true
    },
    "dbuser": {
      "value": "user_name",
      "type": "string"
    },
    "s3accesskey": {
      "value": "YCAJEhLcFBjDWAPmXym-qOlX-",
      "type": "string",
      "sensitive": true
    },
    "s3bucket": {
      "value": "deployto",
      "type": "string"
    },
    "s3secretkey": {
      "value": "YCOqhfITXJ85ha0ycdoV-5UkioflvjaE9Q9tE7yn",
      "type": "string",
      "sensitive": true
    },
    "s3uri": {
      "value": {
        "access_key": "YCAJEhLcFBjDWAPmXym-qOlX-",
        "acl": null,
        "anonymous_access_flags": [
          {
            "config_read": false,
            "list": false,
            "read": false
          }
        ],
        "bucket": "deployto",
        "bucket_domain_name": "deployto.storage.yandexcloud.net",
        "bucket_prefix": null,
        "cors_rule": [],
        "default_storage_class": "STANDARD",
        "folder_id": "b1gdqo93r75d249hlicn",
        "force_destroy": false,
        "grant": [],
        "https": [],
        "id": "deployto",
        "lifecycle_rule": [],
        "logging": [],
        "max_size": 0,
        "object_lock_configuration": [],
        "policy": "",
        "secret_key": "YCOqhfITXJ85ha0ycdoV-5UkioflvjaE9Q9tE7yn",
        "server_side_encryption_configuration": [],
        "tags": {},
        "versioning": [
          {
            "enabled": false
          }
        ],
        "website": [],
        "website_domain": null,
        "website_endpoint": null
      },
      "type": [
        "object",
        {
          "access_key": "string",
          "acl": "string",
          "anonymous_access_flags": [
            "set",
            [
              "object",
              {
                "config_read": "bool",
                "list": "bool",
                "read": "bool"
              }
            ]
          ],
          "bucket": "string",
          "bucket_domain_name": "string",
          "bucket_prefix": "string",
          "cors_rule": [
            "list",
            [
              "object",
              {
                "allowed_headers": [
                  "list",
                  "string"
                ],
                "allowed_methods": [
                  "list",
                  "string"
                ],
                "allowed_origins": [
                  "list",
                  "string"
                ],
                "expose_headers": [
                  "list",
                  "string"
                ],
                "max_age_seconds": "number"
              }
            ]
          ],
          "default_storage_class": "string",
          "folder_id": "string",
          "force_destroy": "bool",
          "grant": [
            "set",
            [
              "object",
              {
                "id": "string",
                "permissions": [
                  "set",
                  "string"
                ],
                "type": "string",
                "uri": "string"
              }
            ]
          ],
          "https": [
            "set",
            [
              "object",
              {
                "certificate_id": "string"
              }
            ]
          ],
          "id": "string",
          "lifecycle_rule": [
            "list",
            [
              "object",
              {
                "abort_incomplete_multipart_upload_days": "number",
                "enabled": "bool",
                "expiration": [
                  "list",
                  [
                    "object",
                    {
                      "date": "string",
                      "days": "number",
                      "expired_object_delete_marker": "bool"
                    }
                  ]
                ],
                "filter": [
                  "list",
                  [
                    "object",
                    {
                      "and": [
                        "list",
                        [
                          "object",
                          {
                            "object_size_greater_than": "number",
                            "object_size_less_than": "number",
                            "prefix": "string",
                            "tags": [
                              "map",
                              "string"
                            ]
                          }
                        ]
                      ],
                      "object_size_greater_than": "number",
                      "object_size_less_than": "number",
                      "prefix": "string",
                      "tag": [
                        "list",
                        [
                          "object",
                          {
                            "key": "string",
                            "value": "string"
                          }
                        ]
                      ]
                    }
                  ]
                ],
                "id": "string",
                "noncurrent_version_expiration": [
                  "list",
                  [
                    "object",
                    {
                      "days": "number"
                    }
                  ]
                ],
                "noncurrent_version_transition": [
                  "set",
                  [
                    "object",
                    {
                      "days": "number",
                      "storage_class": "string"
                    }
                  ]
                ],
                "prefix": "string",
                "transition": [
                  "set",
                  [
                    "object",
                    {
                      "date": "string",
                      "days": "number",
                      "storage_class": "string"
                    }
                  ]
                ]
              }
            ]
          ],
          "logging": [
            "set",
            [
              "object",
              {
                "target_bucket": "string",
                "target_prefix": "string"
              }
            ]
          ],
          "max_size": "number",
          "object_lock_configuration": [
            "list",
            [
              "object",
              {
                "object_lock_enabled": "string",
                "rule": [
                  "list",
                  [
                    "object",
                    {
                      "default_retention": [
                        "list",
                        [
                          "object",
                          {
                            "days": "number",
                            "mode": "string",
                            "years": "number"
                          }
                        ]
                      ]
                    }
                  ]
                ]
              }
            ]
          ],
          "policy": "string",
          "secret_key": "string",
          "server_side_encryption_configuration": [
            "list",
            [
              "object",
              {
                "rule": [
                  "list",
                  [
                    "object",
                    {
                      "apply_server_side_encryption_by_default": [
                        "list",
                        [
                          "object",
                          {
                            "kms_master_key_id": "string",
                            "sse_algorithm": "string"
                          }
                        ]
                      ]
                    }
                  ]
                ]
              }
            ]
          ],
          "tags": [
            "map",
            "string"
          ],
          "versioning": [
            "list",
            [
              "object",
              {
                "enabled": "bool"
              }
            ]
          ],
          "website": [
            "list",
            [
              "object",
              {
                "error_document": "string",
                "index_document": "string",
                "redirect_all_requests_to": "string",
                "routing_rules": "string"
              }
            ]
          ],
          "website_domain": "string",
          "website_endpoint": "string"
        }
      ],
      "sensitive": true
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "yandex_vpc_network",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "created_at": "2024-05-07T18:09:51Z",
            "default_security_group_id": "enp04q3jrpbphcn4n97q",
            "description": "Auto-created network",
            "folder_id": "b1gdqo93r75d249hlicn",
            "id": "enppd759cpmnl6rh6ceo",
            "labels": {},
            "name": "default",
            "network_id": "enppd759cpmnl6rh6ceo",
            "subnet_ids": [
              "b0c2hg2l30pvvn2oqcs6",
              "e2luc2vc5uqevsdbg87d",
              "e9b17118eeb9dhacj00q",
              "fl886ieuos81iht9npta",
              "fl8e4lsqsdjpub79quv6"
            ]
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "yandex_iam_service_account",
      "name": "sa",
      "provider": "provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "created_at": "2024-05-07T20:30:19Z",
            "description": "",
            "folder_id": "b1gdqo93r75d249hlicn",
            "id": "ajettl2b0ectjd43n952",
            "name": "deployto-s3-user",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMCwiZGVsZXRlIjo2MDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "yandex_iam_service_account_static_access_key",
      "name": "sa-static-key",
      "provider": "provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_key": "YCAJEhLcFBjDWAPmXym-qOlX-",
            "created_at": "2024-05-07T20:30:21Z",
            "description": "static access key for object storage",
            "encrypted_secret_key": null,
            "id": "ajed8mrl4prsnehli42l",
            "key_fingerprint": null,
            "pgp_key": null,
            "secret_key": "YCOqhfITXJ85ha0ycdoV-5UkioflvjaE9Q9tE7yn",
            "service_account_id": "ajettl2b0ectjd43n952"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "secret_key"
              }
            ]
          ],
          "private": "bnVsbA==",
          "dependencies": [
            "yandex_iam_service_account.sa"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "yandex_mdb_postgresql_cluster",
      "name": "postgresql-single",
      "provider": "provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "config": [
              {
                "access": [
                  {
                    "data_lens": false,
                    "data_transfer": false,
                    "serverless": false,
                    "web_sql": false
                  }
                ],
                "autofailover": true,
                "backup_retain_period_days": 7,
                "backup_window_start": [
                  {
                    "hours": 0,
                    "minutes": 0
                  }
                ],
                "disk_size_autoscaling": [
                  {
                    "disk_size_limit": 0,
                    "emergency_usage_threshold": 0,
                    "planned_usage_threshold": 0
                  }
                ],
                "performance_diagnostics": [
                  {
                    "enabled": false,
                    "sessions_sampling_interval": 60,
                    "statements_sampling_interval": 600
                  }
                ],
                "pooler_config": [],
                "postgresql_config": {
                  "autovacuum_vacuum_scale_factor": "0.34",
                  "default_transaction_isolation": "TRANSACTION_ISOLATION_READ_COMMITTED",
                  "enable_parallel_hash": "true",
                  "max_connections": "395",
                  "password_encryption": "0",
                  "shared_preload_libraries": "SHARED_PRELOAD_LIBRARIES_AUTO_EXPLAIN,SHARED_PRELOAD_LIBRARIES_PG_HINT_PLAN",
                  "vacuum_cleanup_index_scale_factor": "0.2"
                },
                "resources": [
                  {
                    "disk_size": 20,
                    "disk_type_id": "network-ssd",
                    "resource_preset_id": "s2.micro"
                  }
                ],
                "version": "12"
              }
            ],
            "created_at": "2024-05-07T21:19:36Z",
            "database": [],
            "deletion_protection": false,
            "description": "",
            "environment": "PRESTABLE",
            "folder_id": "b1gdqo93r75d249hlicn",
            "health": "HEALTH_UNKNOWN",
            "host": [
              {
                "assign_public_ip": false,
                "fqdn": "rc1d-30krurytinisfu8w.mdb.yandexcloud.net",
                "name": "",
                "priority": 0,
                "replication_source": "",
                "replication_source_name": "",
                "role": "MASTER",
                "subnet_id": "fl8e4lsqsdjpub79quv6",
                "zone": "ru-central1-d"
              }
            ],
            "host_group_ids": [],
            "host_master_name": "",
            "id": "c9qbkfs7lv6gc433fi4p",
            "labels": {},
            "maintenance_window": [
              {
                "day": "SAT",
                "hour": 12,
                "type": "WEEKLY"
              }
            ],
            "name": "test",
            "network_id": "enppd759cpmnl6rh6ceo",
            "restore": [],
            "security_group_ids": [],
            "status": "RUNNING",
            "timeouts": null,
            "user": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.yandex_vpc_network.default",
            "yandex_vpc_subnet.k8s-mdb-subnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "yandex_mdb_postgresql_database",
      "name": "foo",
      "provider": "provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "cluster_id": "c9qbkfs7lv6gc433fi4p",
            "deletion_protection": "unspecified",
            "extension": [
              {
                "name": "uuid-ossp",
                "version": ""
              },
              {
                "name": "xml2",
                "version": ""
              }
            ],
            "id": "c9qbkfs7lv6gc433fi4p:testdb",
            "lc_collate": "en_US.UTF-8",
            "lc_type": "en_US.UTF-8",
            "name": "testdb",
            "owner": "user_name",
            "template_db": "",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJyZWFkIjo2MDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "data.yandex_vpc_network.default",
            "yandex_mdb_postgresql_cluster.postgresql-single",
            "yandex_mdb_postgresql_user.test",
            "yandex_vpc_subnet.k8s-mdb-subnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "yandex_mdb_postgresql_user",
      "name": "test",
      "provider": "provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "cluster_id": "c9qbkfs7lv6gc433fi4p",
            "conn_limit": 50,
            "deletion_protection": "unspecified",
            "grants": [],
            "id": "c9qbkfs7lv6gc433fi4p:user_name",
            "login": true,
            "name": "user_name",
            "password": "your_password",
            "permission": [],
            "settings": {},
            "timeouts": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "password"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJyZWFkIjo2MDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "data.yandex_vpc_network.default",
            "yandex_mdb_postgresql_cluster.postgresql-single",
            "yandex_vpc_subnet.k8s-mdb-subnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "yandex_resourcemanager_folder_iam_member",
      "name": "sa-editor",
      "provider": "provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "folder_id": "b1gdqo93r75d249hlicn",
            "id": "b1gdqo93r75d249hlicn/storage.editor/serviceAccount:ajettl2b0ectjd43n952",
            "member": "serviceAccount:ajettl2b0ectjd43n952",
            "role": "storage.editor",
            "sleep_after": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMCwiZGVmYXVsdCI6NjAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "yandex_iam_service_account.sa"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "yandex_storage_bucket",
      "name": "test",
      "provider": "provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "access_key": "YCAJEhLcFBjDWAPmXym-qOlX-",
            "acl": null,
            "anonymous_access_flags": [
              {
                "config_read": false,
                "list": false,
                "read": false
              }
            ],
            "bucket": "deployto",
            "bucket_domain_name": "deployto.storage.yandexcloud.net",
            "bucket_prefix": null,
            "cors_rule": [],
            "default_storage_class": "STANDARD",
            "folder_id": "b1gdqo93r75d249hlicn",
            "force_destroy": false,
            "grant": [],
            "https": [],
            "id": "deployto",
            "lifecycle_rule": [],
            "logging": [],
            "max_size": 0,
            "object_lock_configuration": [],
            "policy": "",
            "secret_key": "YCOqhfITXJ85ha0ycdoV-5UkioflvjaE9Q9tE7yn",
            "server_side_encryption_configuration": [],
            "tags": {},
            "versioning": [
              {
                "enabled": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "secret_key"
              }
            ]
          ],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "yandex_iam_service_account.sa",
            "yandex_iam_service_account_static_access_key.sa-static-key"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "yandex_vpc_subnet",
      "name": "k8s-mdb-subnet",
      "provider": "provider[\"registry.terraform.io/yandex-cloud/yandex\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "created_at": "2024-05-07T21:13:50Z",
            "description": "",
            "dhcp_options": [],
            "folder_id": "b1gdqo93r75d249hlicn",
            "id": "fl8e4lsqsdjpub79quv6",
            "labels": {},
            "name": "",
            "network_id": "enppd759cpmnl6rh6ceo",
            "route_table_id": "",
            "timeouts": null,
            "v4_cidr_blocks": [
              "10.5.0.0/24"
            ],
            "v6_cidr_blocks": [],
            "zone": "ru-central1-d"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMH19",
          "dependencies": [
            "data.yandex_vpc_network.default"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
